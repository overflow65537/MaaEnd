{
    "ItemTransfer": {
        "recognition": "DirectHit",
        "next": [
            "ItemTransferStart"
        ]
    },
    "ItemTransferStart": {
        "recognition": "OCR",
        "expected": "仓库",
        "next": [
            "SwitchRepoToOrigin"
        ]
    },
    "SwitchRepoToOrigin": {
        "recognition": "OCR",
        "expected": "仓库切换",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickOrigin",
            "SwitchRepoToOrigin"
        ]
    },
    "ClickOrigin": {
        "recognition": "OCR",
        "expected": "ORIGIN_REGION",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickConfirmOrigin",
            "AtOrigin"
        ]
    },
    "ClickConfirmOrigin": {
        "recognition": "OCR",
        "expected": "确认",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "AtOrigin"
        ]
    },
    "AtOrigin": {
        "recognition": "OCR",
        "expected": "已连接",
        "next": [
            "ClickEscOrigin"
        ]
    },
    "ClickEscOrigin": {
        "action": "ClickKey",
        "key": 27,
        "post_wait_freezes": 1,
        "next": [
            "RepoToBag"
        ]
    },
    "RepoToBag": {
        "post_wait_freezes": 1,
        "next": [
            "ClickSortDescending",
            "ClickItemCategory",
            "FindItem",
            "ScrollDownward"
        ]
    },
    "ClickSortDescending": {
        "recognition": "OCR",
        "expected": "降序",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickItemCategory",
            "FindItem",
            "ScrollDownward"
        ]
    },
    "ClickItemCategory": {
        "recognition": "TemplateMatch",
        "template": "ItemTransfer/全部.png",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "FindItem",
            "ScrollDownward"
        ]
    },
    "FindItem": {
        "recognition": "TemplateMatch",
        "template": "ItemTransfer/{ItemName}.png",
        "threshold": 0.85,
        "next": [
            "CtrlKeyDown"
        ]
    },
    "ScrollDownward": {
        "action": "Swipe",
        "begin": [
            640,
            455
        ],
        "end": [
            640,
            248
        ],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItem",
            "ScrollDownward",
            "ScrollUpward"
        ]
    },
    "ScrollUpward": {
        "doc": "触底后回顶",
        "action": "Swipe",
        "begin": [
            640,
            248
        ],
        "end": [
            640,
            455
        ],
        "end_hold": 500,
        "max_hit": 3,
        "post_wait_freezes": 1,
        "next": [
            "FindItem",
            "ScrollUpward"
        ],
        "focus": {
            "Node.Recognition.Failed": "$task.ItemTransfer.recognition_failed"
        }
    },
    "CtrlKeyDown": {
        "action": "KeyDown",
        "key": 17,
        "next": [
            "TransferToBag"
        ]
    },
    "TransferToBag": {
        "target": "FindItem",
        "action": "Click",
        "next": [
            "CtrlKeyUp"
        ]
    },
    "CtrlKeyUp": {
        "action": "KeyUp",
        "key": 17,
        "next": [
            "SwitchRepoToDestination"
        ]
    },
    "SwitchRepoToDestination": {
        "recognition": "OCR",
        "expected": "仓库切换",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickDestination",
            "SwitchRepoToDestination"
        ]
    },
    "ClickDestination": {
        "recognition": "OCR",
        "expected": "DESTINATION_REGION",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "ClickConfirmDestination",
            "AtDestination"
        ]
    },
    "ClickConfirmDestination": {
        "recognition": "OCR",
        "expected": "确认",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "AtDestination"
        ]
    },
    "AtDestination": {
        "recognition": "OCR",
        "expected": "已连接",
        "next": [
            "ClickEscDestination"
        ]
    },
    "ClickEscDestination": {
        "action": "ClickKey",
        "key": 27,
        "post_wait_freezes": 1,
        "next": [
            "BagToRepo"
        ]
    },
    "BagToRepo": {
        "recognition": "OCR",
        "expected": "一键存放",
        "action": "Click",
        "post_wait_freezes": 1,
        "next": [
            "CheckIfFull",
            "ItemTransferStart",
            "Stop"
        ]
    },
    "CheckIfFull": {
        "recognition": "OCR",
        "expected": "已满"
    },
    "Stop": {
        "action": "StopTask"
    }
}